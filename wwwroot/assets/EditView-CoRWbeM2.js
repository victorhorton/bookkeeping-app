import{d as v,r as f,o as _,c as a,j as h,i as d,v as l,a as k,F as r,e as i,b as V,l as x,h as y,t as U,u as g,g as o,k as B}from"./index-BrNi09fd.js";import{a as m,_ as N}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-BTFjoxmV.js";const $={class:"container mx-auto"},w=["onUpdate:modelValue"],M=["onUpdate:modelValue"],D=v({__name:"EditView",setup(S){const p=g(),e=f();_(()=>{m.get(`/api/batches/${p.params.id}`).then(s=>{s.status===200&&(e.value=s.data)})});function c(){e.value&&m.put(`/api/batches/${e.value.id}`,e.value).then(s=>{s.status===204&&B.push("/batches")})}return(s,n)=>(o(),a("div",$,[e.value?(o(),a("form",{key:0,onSubmit:n[1]||(n[1]=h(t=>c(),["prevent"]))},[d(k("input",{type:"text",class:"p-2 rounded-md border-2 border-black","onUpdate:modelValue":n[0]||(n[0]=t=>e.value.name=t)},null,512),[[l,e.value.name]]),(o(!0),a(r,null,i(e.value.transactions,t=>d((o(),a("input",{type:"date",class:"p-2 rounded-md border-2 border-black",key:t.id,"onUpdate:modelValue":u=>t.date=u},null,8,w)),[[l,t.date]])),128)),(o(!0),a(r,null,i(e.value.transactions,t=>(o(),a(r,{key:t.id},[(o(!0),a(r,null,i(t.entries,u=>d((o(),a("input",{type:"number",class:"p-2 rounded-md border-2 border-black",key:u.id,"onUpdate:modelValue":b=>u.amount=b},null,8,M)),[[l,u.amount]])),128))],64))),128)),V(N,{innerText:"Submit"})],32)):x("",!0),y(" "+U(e.value),1)]))}});export{D as default};
