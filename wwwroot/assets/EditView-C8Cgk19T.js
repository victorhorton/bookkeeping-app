import{d as p,r as c,o as v,c as o,j as b,i as r,v as u,a as f,F as _,e as h,b as x,l as V,h as k,t as y,u as g,g as n,k as B}from"./index-DkBRYmz-.js";import{a as d,_ as N}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-B6Q-O5k2.js";const $={class:"container mx-auto"},w=["onUpdate:modelValue"],U=p({__name:"EditView",setup(M){const i=g(),e=c();v(()=>{d.get(`/api/batches/${i.params.id}`).then(a=>{a.status===200&&(e.value=a.data)})});function l(){e.value&&d.put(`/api/batches/${e.value.id}`,e.value).then(a=>{a.status===204&&B.push("/batches")})}return(a,s)=>(n(),o("div",$,[e.value?(n(),o("form",{key:0,onSubmit:s[1]||(s[1]=b(t=>l(),["prevent"]))},[r(f("input",{type:"text",class:"p-2 rounded-md border-2 border-black","onUpdate:modelValue":s[0]||(s[0]=t=>e.value.name=t)},null,512),[[u,e.value.name]]),(n(!0),o(_,null,h(e.value.transactions,t=>r((n(),o("input",{type:"date",class:"p-2 rounded-md border-2 border-black",key:t.id,"onUpdate:modelValue":m=>t.date=m},null,8,w)),[[u,t.date]])),128)),x(N,{innerText:"Submit"})],32)):V("",!0),k(" "+y(e.value),1)]))}});export{U as default};
